form.form-horizontal(novalidate=true name='newPasswordForm' ng-submit='new_password.submit()')
  .modal-header
    button.btn.btn-success(translate='BUTTONS.UPDATE'
                           ng-disabled='newPasswordForm.$submitted && newPasswordForm.$invalid')
    a.btn.btn-default.pull-right(ng-click='new_password.cancel()')
      span.glyphicon.glyphicon-remove#left-icon
      span {{ 'BUTTONS.CLOSE' | translate }}

  .modal-body
    .alert.alert-danger(role='alert' ng-show='new_password.errors')
      button.close(data-dismiss='alert' type='button' ng-click='new_password.clearErrors()') ×
      ul(ng-repeat='error in new_password.errors')
        li {{error}}
      span
    // 現在のパスワード
    .form-group
      label.control-label.col-sm-3(for='current_password')
        span(translate='LABELS.CURRENT_PASSWORD')
        span.red *
      .col-sm-9
        input.form-control(type='password' name='current_password' ng-model='new_password.current_password' required='true')
        span.errors(ng-messages='newPasswordForm.current_password.$error' ng-show='newPasswordForm.$submitted && newPasswordForm.current_password.$error')
          div(ng-message='required')
            span.glyphicon.glyphicon-alert#left-icon
            span(translate='ERRORS.REQUIRED.CURRENT_PASSWORD')

    // 新しいパスワード
    .form-group
      label.control-label.col-sm-3(for='password')
        span(translate='LABELS.PASSWORD')
        span.red *
      .col-sm-9
        input.form-control(type='password' name='password' ng-model='new_password.password' required='true' ng-maxlength='72' ng-minlength='4')
        span.errors(ng-messages='newPasswordForm.password.$error' ng-show='newPasswordForm.$submitted && newPasswordForm.password.$error')
          div(ng-message='required')
            span.glyphicon.glyphicon-alert#left-icon
            span(translate='ERRORS.REQUIRED.PASSWORD')
          div(ng-message='maxlength')
            span.glyphicon.glyphicon-alert#left-icon
            span(translate='ERRORS.MAXLENGTH.PASSWORD')
          div(ng-message='minlength')
            span.glyphicon.glyphicon-alert#left-icon
            span(translate='ERRORS.MINLENGTH.PASSWORD')

    // 新しいパスワード（確認）
    .form-group
      label.control-label.col-sm-3(for='password_confirmation')
        span(translate='LABELS.PASSWORD')
        span.red *
      .col-sm-9
        input.form-control(type='password' name='password_confirmation' ng-model='new_password.password_confirmation' required='true' ng-maxlength='72' ng-minlength='4')
        span.errors(ng-messages='newPasswordForm.password_confirmation.$error' ng-show='newPasswordForm.$submitted && newPasswordForm.password_confirmation.$error')
          div(ng-message='required')
            span.glyphicon.glyphicon-alert#left-icon
            span(translate='ERRORS.REQUIRED.PASSWORD')
          div(ng-message='maxlength')
            span.glyphicon.glyphicon-alert#left-icon
            span(translate='ERRORS.MAXLENGTH.PASSWORD')
          div(ng-message='minlength')
            span.glyphicon.glyphicon-alert#left-icon
            span(translate='ERRORS.MINLENGTH.PASSWORD')

nav.navbar.navbar-default(role='navigation')
  .navbar-header
    a.navbar-brand(ui-sref='home')
      img(src='assets/images/pig.gif')
      span.brand-name(translate='BRAND_NAME')
      span.glyphicon.glyphicon-paperclip
  .collapse.navbar-collapse
    ul.nav.navbar-nav
      li
        a(ui-sref='home')
          span.glyphicon.glyphicon-home(translate='TITLES.HOME')
      li
        a
          span.glyphicon.glyphicon-stats(translate='TITLES.DASHBOARD')
      li
        a(ng-click='navbar.feedback()', href='')
          span.glyphicon.glyphicon-comment(translate='TITLES.FEEDBACK')
    ul.nav.navbar-nav.navbar-right
      li(ng-show='navbar.login_status && navbar.current_user.admin')
        a(ui-sref='admin')
          span.glyphicon.glyphicon-king(translate='TITLES.ADMIN')
      li.dropdown.open(ng-init='isCollapsed = true' ng-click='isCollapsed = !isCollapsed' role='presentation' ng-show='navbar.login_status')
        a.dropdown-toggle(data-toggle='dropdown' aria-haspopup='true' aria-expanded='false' role: 'button' href='')
          span.glyphicon.glyphicon-cog(translate='TITLES.SETTINGS')
          span.caret
        ul.dropdown-menu(ng-hide='isCollapsed')
          li
            a(ui-sref='categories' translate='TITLES.CATEGORY')
      li(ng-hide='navbar.login_status')
        a(ui-sref='login')
          span.glyphicon.glyphicon-leaf(translate='TITLES.LOGIN')
      li(ng-show='navbar.login_status')
        a(ui-sref='profile')
          span.glyphicon.glyphicon-user {{ navbar.current_user.email }}
      li(ng-show='navbar.login_status')
        a(ui-sref='home' ng-click='navbar.logout()')
          span.glyphicon.glyphicon-leaf(translate='TITLES.LOGOUT')

script#feedback(type='text/ng-template')
  form(novalidate=true name='feedbackForm' ng-submit='feedback.submit()')
    .modal-header
      button.btn.btn-primary(type='submit' ng-disabled='feedbackForm.$submitted && feedbackForm.$invalid' translate='BUTTONS.SEND')
      a.btn.btn-default(ng-click='feedback.cancel()' translate='BUTTONS.CLOSE')
    .modal-body
      .form-group(ng-if='!feedback.login_status')
        label(for='email')
          span(translate='LABELS.FEEDBACK_EMAIL')
          span *
        input.form-control#email(type='email' name: 'email' ng-model='feedback.email' required=true ng-maxlength='100')
        span.errors(ng-messages='feedbackForm.email.$error' ng-show='feedbackForm.$submitted')
          div(ng-message='required')
            span.glyphicon.glyphicon-alert(translate='ERRORS.REQUIRED.EMAIL')
          div(ng-message='email')
            span.glyphicon.glyphicon-alert(translate='ERRORS.EMAIL')
          div(ng-message='maxlength')
            span.glyphicon.glyphicon-alert(translate='ERRORS.MAXLENGTH.EMAIL')

      .form-group
        label(for='content')
          span(translate='LABELS.MESSAGE')
          span *
        textarea.form-control(rows='5' name='content' ng-model='feedback.content' required=true ng-maxlength='1000' placeholder='{{feedback.placeholder}}')
        span.errors(ng-messages='feedbackForm.content.$error' ng-show='feedbackForm.$submitted')
          div(ng-message='required')
            span.glyphicon.glyphicon-alert(translate='ERRORS.REQUIRED.CONTENT')
          div(ng-message='maxlength')
            span.glyphicon.glyphicon-alert(translate='ERRORS.MAXLENGTH.CONTENT')
